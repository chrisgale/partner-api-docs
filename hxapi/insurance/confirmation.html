<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PTPVDF7');</script>
    <!-- End Google Tag Manager -->
    <title></title>
    <meta name="description" content="">
    <link rel="stylesheet" href="http://d17s4kc6349e5h.cloudfront.net/holidayextras/stylesheets/4.2.5/theme.min.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_32.png" sizes="32x32"/>
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_196.png" sizes="196x196"/>
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_96.png" sizes="96x96"/>
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_16.png" sizes="16x16"/>
  </head>
  <body>
    <nav role="nav" class="navbar navbar-default hidden-print navbar-static-top">
       <div class="container">
         <a class="navbar-brand" href="https://www.holidayextras.co.uk">Holiday Extras</a> 
       </div>
     </nav>
    <div class="container block-md">
      <main role="main">
        <div class="panel panel-primary">
          <div class="panel-heading"><div class="h1">Holiday Extras API</div></div>
            <div class="panel-body">
  <h1 id="make-an-insurance-booking">Make an insurance booking</h1>

<p>This must be a POST, as you are making a booking. It must be made over HTTPS. Intermediaries will be sending credit card information, Agents will send their login details so HTTPS is required in both instances.</p>

<p>If you do not send the ABTANumber field (for agent code) then your booking will not be tracked to your agent code. The Password field is currently <strong>not</strong> required, intermediaries do not have a password.</p>

<h2 id="insurancepolicyfoo">/insurancepolicy/foo</h2>

<p>where foo is the destination code
e.g. /insurancepolicy/EUROPE</p>

<h3 id="method">Method</h3>

<p>POST</p>

<h3 id="parameters">Parameters</h3>

<h4 id="intermediary">Intermediary</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Data Type</th>
      <th>Format</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Address</td>
      <td>array</td>
      <td>Â </td>
      <td>Y</td>
    </tr>
    <tr>
      <td>CardHolder</td>
      <td>string</td>
      <td>Mr T Test</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>CardNumber</td>
      <td>string</td>
      <td>4111 1111 1111 1111</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>DateOfBirth</td>
      <td>date</td>
      <td>1972-07-27</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>Email</td>
      <td>email</td>
      <td>test@test.com</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>EndDate</td>
      <td>date</td>
      <td>2009-03-01</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>ExpiryDate</td>
      <td>date</td>
      <td>2009-07-10</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>Initial</td>
      <td>string</td>
      <td>T</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>PostCode</td>
      <td>string</td>
      <td>T1 1TT</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>SchemeCode</td>
      <td>string</td>
      <td>DPR08</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>SchemePrice</td>
      <td>float</td>
      <td>33.01</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>StartDate</td>
      <td>date</td>
      <td>2009-02-22</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>Surname</td>
      <td>string</td>
      <td>Test</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>Title</td>
      <td>string</td>
      <td>Mr</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>key</td>
      <td>string</td>
      <td>my_test_key</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>token</td>
      <td>string</td>
      <td>[0-9]{9}</td>
      <td>Y</td>
    </tr>
    <tr>
      <td>ABTANumber</td>
      <td>string</td>
      <td>X1234</td>
      <td>N</td>
    </tr>
  </tbody>
</table>

<h3 id="request">Request</h3>

<h4 id="intermediary-1">Intermediary</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>
POST /v1/insurancepolicy/EUROPE HTTP/1.1

Host: api.holidayextras.co.uk

...

Content-Type: application/x-www-form-urlencoded

Content-Length: 198


Address[]=1 Test St&amp;Address[]=Testchester&amp;Address[]=Testshire&amp;CardHolder=Mr T Test&amp;CardNumber=4111 1111 1111 1111&amp;DateOfBirth[]=1972-07-27&amp;Email=test%40test.com&amp;EndDate=2009-02-29&amp;ExpiryDate=1010&amp;Initial[]=T&amp;PostCode=T1 1TT&amp;SchemeCode=DPR08&amp;SchemePrice=33.01&amp;StartDate=2009-02-22&amp;Surname[]=Test&amp;Title[]=Mr&amp;key=foo&amp;token=000015778
</code></pre>
</div>

<h3 id="reply">Reply</h3>

<h4 id="intermediary-2">Intermediary</h4>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;API_Reply&gt;</span>
    <span class="nt">&lt;Itinerary&gt;</span>
    <span class="nt">&lt;Destination&gt;</span>EUROPE<span class="nt">&lt;/Destination&gt;</span>
    <span class="nt">&lt;DestNum&gt;</span>2<span class="nt">&lt;/DestNum&gt;</span>
    <span class="nt">&lt;StartDate&gt;</span>2009-02-22<span class="nt">&lt;/StartDate&gt;</span>
    <span class="nt">&lt;EndDate&gt;</span>2009-03-01<span class="nt">&lt;/EndDate&gt;</span>
    <span class="nt">&lt;/Itinerary&gt;</span>
    <span class="nt">&lt;Booking&gt;</span>
    <span class="nt">&lt;RefNum&gt;</span>DPR080000012077<span class="nt">&lt;/RefNum&gt;</span>
    <span class="nt">&lt;SchemeCode&gt;</span>DPR08<span class="nt">&lt;/SchemeCode&gt;</span>
    <span class="nt">&lt;/Booking&gt;</span>
    <span class="nt">&lt;PartyNames</span> <span class="na">p=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;PartyTitle&gt;</span>MR<span class="nt">&lt;/PartyTitle&gt;</span>
    <span class="nt">&lt;PartyInit&gt;</span>T<span class="nt">&lt;/PartyInit&gt;</span>
    <span class="nt">&lt;PartySurname&gt;</span>TEST<span class="nt">&lt;/PartySurname&gt;</span>
    <span class="nt">&lt;PartyDOB&gt;</span>1972-07-27<span class="nt">&lt;/PartyDOB&gt;</span>
    <span class="nt">&lt;/PartyNames&gt;</span>
    <span class="nt">&lt;ClientDetails&gt;</span>
    <span class="nt">&lt;Title&gt;</span>MR<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;Initial&gt;</span>T<span class="nt">&lt;/Initial&gt;</span>
    <span class="nt">&lt;Surname&gt;</span>TEST<span class="nt">&lt;/Surname&gt;</span>
    <span class="nt">&lt;Address</span> <span class="na">a=</span><span class="s">"1"</span><span class="nt">&gt;</span>1 TEST ST<span class="nt">&lt;/Address&gt;</span>
    <span class="nt">&lt;Address</span> <span class="na">a=</span><span class="s">"2"</span><span class="nt">&gt;</span>TESTCHESTER<span class="nt">&lt;/Address&gt;</span>
    <span class="nt">&lt;Address</span> <span class="na">a=</span><span class="s">"3"</span><span class="nt">&gt;</span>TESTSHIRE<span class="nt">&lt;/Address&gt;</span>
    <span class="nt">&lt;Postcode&gt;</span>T1 1TT<span class="nt">&lt;/Postcode&gt;</span>
    <span class="nt">&lt;Email&gt;</span>TEST@TEST.COM<span class="nt">&lt;/Email&gt;</span>
    <span class="nt">&lt;/ClientDetails&gt;</span>
    <span class="nt">&lt;API_Header&gt;</span>
    <span class="nt">&lt;Request&gt;</span>
      <span class="nt">&lt;Address&gt;</span>1 Test St<span class="nt">&lt;/Address&gt;</span>
      <span class="nt">&lt;Address&gt;</span>Testchester<span class="nt">&lt;/Address&gt;</span>
      <span class="nt">&lt;Address&gt;</span>Testshire<span class="nt">&lt;/Address&gt;</span>
      <span class="nt">&lt;CardHolder&gt;</span>Mr T Test<span class="nt">&lt;/CardHolder&gt;</span>
      <span class="nt">&lt;CardNumber&gt;</span>4111 1111 1111 1111<span class="nt">&lt;/CardNumber&gt;</span>
      <span class="nt">&lt;DateOfBirth&gt;</span>1972-07-27<span class="nt">&lt;/DateOfBirth&gt;</span>
      <span class="nt">&lt;Email&gt;</span>test@test.com<span class="nt">&lt;/Email&gt;</span>
      <span class="nt">&lt;EndDate&gt;</span>2009-03-01<span class="nt">&lt;/EndDate&gt;</span>
      <span class="nt">&lt;ExpiryDate&gt;</span>2009-07-10<span class="nt">&lt;/ExpiryDate&gt;</span>
      <span class="nt">&lt;Initial&gt;</span>T<span class="nt">&lt;/Initial&gt;</span>
      <span class="nt">&lt;PostCode&gt;</span>T1 1TT<span class="nt">&lt;/PostCode&gt;</span>
      <span class="nt">&lt;SchemeCode&gt;</span>DPR08<span class="nt">&lt;/SchemeCode&gt;</span>
      <span class="nt">&lt;SchemePrice&gt;</span>33.01<span class="nt">&lt;/SchemePrice&gt;</span>
      <span class="nt">&lt;StartDate&gt;</span>2009-02-22<span class="nt">&lt;/StartDate&gt;</span>
      <span class="nt">&lt;Surname&gt;</span>Test<span class="nt">&lt;/Surname&gt;</span>
      <span class="nt">&lt;Title&gt;</span>Mr<span class="nt">&lt;/Title&gt;</span>
      <span class="nt">&lt;key&gt;</span>foo<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;token&gt;</span>000015778<span class="nt">&lt;/token&gt;</span>
    <span class="nt">&lt;/Request&gt;</span>
    <span class="nt">&lt;/API_Header&gt;</span>
<span class="nt">&lt;/API_Reply&gt;</span>
</code></pre>
</div>

</div>

        </div>
      </main>
    </div>
  </body>
</html>
