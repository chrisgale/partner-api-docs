<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PTPVDF7');</script>
    <!-- End Google Tag Manager -->
    <title></title>
    <meta name="description" content="">
    <link rel="stylesheet" href="/css/api-docs.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_32.png" sizes="32x32"/>
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_196.png" sizes="196x196"/>
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_96.png" sizes="96x96"/>
    <link rel="icon" type="image/png" href="https://d17s4kc6349e5h.cloudfront.net/holidayextras/assets/images/favicons/favicon_16.png" sizes="16x16"/>
  </head>
  <body>
    <nav role="nav" class="navbar navbar-default hidden-print navbar-static-top">
       <div class="container">
         <a class="navbar-brand" href="https://www.holidayextras.co.uk">Holiday Extras</a> 
       </div>
     </nav>
    <div class="container block-md">
      <main role="main">
        <div class="panel panel-primary">
          <div class="panel-heading"><div class="h1">Holiday Extras API</div></div>
            <div class="panel-body">
  <h1 id="payment-gateway-refund">Payment Gateway: Refund</h1>

<p><a href="/">API Docs</a> &gt; <a href="/payment-gateway/">Payment Gateway</a> &gt; <a href="refund">Refund</a></p>

<h2 id="refund-request">Refund Request</h2>

<p>This endpoint will make a refund based on existing payments.</p>

<h3 id="method">Method</h3>

<p>POST</p>

<h3 id="endpoint">Endpoint</h3>

<p>To make a refund, the endpoint to use is:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>https://payment-gateway.holidayextras.co.uk/refund
</code></pre>
</div>

<h3 id="request-headers">Request Headers</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Data Type</th>
      <th>Format</th>
      <th>Mandatory?</th>
      <th>Additional Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Content-Type</td>
      <td>String</td>
      <td><code class="highlighter-rouge">application/json</code></td>
      <td>Y</td>
      <td>This should always be <code class="highlighter-rouge">application/json</code></td>
    </tr>
    <tr>
      <td>Authorization</td>
      <td>String</td>
      <td><code class="highlighter-rouge">Basic dXNlcm5hbWU6cGFzc3dvcmQ=</code></td>
      <td>Y</td>
      <td>Base64 encoded string for the <code class="highlighter-rouge">username:password</code> credentials which will be created and provided to you. This header is required with every request.</td>
    </tr>
    <tr>
      <td>Accept</td>
      <td>String</td>
      <td><code class="highlighter-rouge">application/vnd.holidayextras.v1+json</code></td>
      <td>N</td>
      <td>To use a different version please provide a different value.</td>
    </tr>
  </tbody>
</table>

<h3 id="request-parameters">Request Parameters</h3>

<p>NB: All parameter names are case sensitive.</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Data Type</th>
      <th>Format</th>
      <th>Mandatory?</th>
      <th>Additional Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>channel</td>
      <td>String</td>
      <td>[A-Z]</td>
      <td>Y</td>
      <td>This will be supplied with your authentication credentials.</td>
    </tr>
    <tr>
      <td>payments</td>
      <td>Array</td>
      <td>[String, String]</td>
      <td>Y</td>
      <td>An array listing all payments made for this booking.</td>
    </tr>
    <tr>
      <td>amount</td>
      <td>String</td>
      <td>[0-9]</td>
      <td>Y</td>
      <td>The price (in pence) to be refunded.</td>
    </tr>
  </tbody>
</table>

<h2 id="refund-response">Refund Response</h2>

<p>For a detailed explanation of the fields returned, please see below:</p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Additional Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>amount</td>
      <td>The amount that has been refunded</td>
    </tr>
    <tr>
      <td>status</td>
      <td>The status of the refund</td>
    </tr>
    <tr>
      <td>error</td>
      <td>The error if the refund fails</td>
    </tr>
  </tbody>
</table>

<h2 id="examples">Examples</h2>

<p>Below are examples of both the request and response for a refund.</p>

<h3 id="refund-request-1">Refund Request</h3>

<p><strong>POST</strong>  <code class="highlighter-rouge">https://payment-gateway.holidayextras.co.uk/refund</code></p>

<p><strong>HEADERS</strong> <br />
<code class="highlighter-rouge">Content-Type: application/json</code> <br />
<code class="highlighter-rouge">Accept: application/vnd.holidayextras.v1+json</code> <br />
<code class="highlighter-rouge">Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"testPaymentId1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"testPaymentId2"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="refund-response-1">Refund Response</h3>

<h4 id="successful-refund">Successful Refund</h4>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.34</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REFUND-testPaymentId1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="failed-refund">Failed Refund</h4>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.34</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAIL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed making refund"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

</div>

        </div>
      </main>
    </div>
  </body>
</html>
